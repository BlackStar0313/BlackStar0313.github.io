"use strict";(self.webpackChunk_0313_blog=self.webpackChunk_0313_blog||[]).push([[901],{3848:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>s,contentTitle:()=>l,default:()=>c,frontMatter:()=>a,metadata:()=>o,toc:()=>p});const o=JSON.parse('{"id":"Unity/Shader/\u793a\u4f8b\u4e4b\u9ad8\u5149BlinnPong","title":"\u793a\u4f8b\u4e4b\u9ad8\u5149BlinnPong","description":"\u9ad8\u5149BlinnPong","source":"@site/docs/Unity/Shader/\u793a\u4f8b\u4e4b\u9ad8\u5149BlinnPong.md","sourceDirName":"Unity/Shader","slug":"/Unity/Shader/\u793a\u4f8b\u4e4b\u9ad8\u5149BlinnPong","permalink":"/docs/Unity/Shader/\u793a\u4f8b\u4e4b\u9ad8\u5149BlinnPong","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Unity/Shader/\u793a\u4f8b\u4e4b\u9ad8\u5149BlinnPong.md","tags":[],"version":"current","sidebarPosition":1017,"frontMatter":{"title":"\u793a\u4f8b\u4e4b\u9ad8\u5149BlinnPong","date":"2025-03-31T14:41:44.000Z","categories":["Unity","Shader"],"sidebar_position":1017},"sidebar":"tutorialSidebar","previous":{"title":"\u793a\u4f8b\u4e4bLambert\u6f2b\u53cd\u5c04","permalink":"/docs/Unity/Shader/\u793a\u4f8b\u4e4bLambert\u6f2b\u53cd\u5c04"},"next":{"title":"\u793a\u4f8b\u4e4b\u6cd5\u7ebf\u8d34\u56fe","permalink":"/docs/Unity/Shader/\u793a\u4f8b\u4e4b\u6cd5\u7ebf\u8d34\u56fe"}}');var i=t(4848),r=t(8453);const a={title:"\u793a\u4f8b\u4e4b\u9ad8\u5149BlinnPong",date:new Date("2025-03-31T14:41:44.000Z"),categories:["Unity","Shader"],sidebar_position:1017},l=void 0,s={},p=[{value:"\u9ad8\u5149BlinnPong",id:"\u9ad8\u5149blinnpong",level:2}];function u(n){const e={code:"code",h2:"h2",img:"img",p:"p",pre:"pre",...(0,r.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h2,{id:"\u9ad8\u5149blinnpong",children:"\u9ad8\u5149BlinnPong"}),"\n",(0,i.jsx)(e.p,{children:"\u534a\u89d2\u5411\u91cf(H) \u548c \u6cd5\u7ebf\u5411\u91cf(N) \u7684\u5939\u89d2  shininess \u9ad8\u5149\u5f3a\u5ea6\nspecular = pow(max(0, (dot(N, H))), shininess);\n\u534a\u89d2\u5411\u91cf\u662f\u5149\u7167\u65b9\u5411(L)\u548c\u89c6\u7ebf\u65b9\u5411(V)\u7684\u5e73\u5747\u503c"}),"\n",(0,i.jsxs)(e.p,{children:["\u7eaf\u8272\u9ad8\u5149\n",(0,i.jsx)(e.img,{alt:"\u793a\u4f8b\u56fe",src:t(5309).A+"",width:"640",height:"364"})]}),"\n",(0,i.jsxs)(e.p,{children:["\u5e26\u7eb9\u7406\u7684\u9ad8\u5149\n",(0,i.jsx)(e.img,{alt:"\u793a\u4f8b\u56fe",src:t(8778).A+"",width:"640",height:"364"})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-csharp",children:'\nShader "Custom/URPLitBlinnPhong"\n{\n    Properties\n    {\n        _BaseColor ("Base Color", Color) = (1,1,1,1)\n\t\t_AmbientStrength ("Ambient Strength", Range(0, 1)) = 0.1\n\t\t_SpecularColor ("Specular Color", Color) = (1,1,1,1)\n        _Glossiness ("Glossiness", Range(0, 1)) = 0.5\n    }\n\n    SubShader\n    {\n        Tags {\n            "RenderType"="Opaque"\n            "RenderPipeline"="UniversalPipeline"\n        }\n\n        pass\n        {\n            HLSLPROGRAM\n            #pragma vertex vert \n            #pragma fragment frag \n\n            #include "Packages/com.unity.render-pipelines.universal/ShaderLibrary/Core.hlsl"\n            #include "Packages/com.unity.render-pipelines.universal/ShaderLibrary/Lighting.hlsl"\n\n            CBUFFER_START(UnityPerMaterial)\n                float4 _BaseColor;\n                float _AmbientStrength;\n                float4 _SpecularColor;\n                float _Glossiness;\n            CBUFFER_END\n\n            struct Attributes\n            {\n                float4 positionOS : POSITION;\n                float3 normalOS : NORMAL; \n            };\n\n            struct Varyings\n            {\n                float4 positionCS : SV_POSITION;\n                float3 positionWS : TEXCOORD0;\n                float3 normalWS : NORMAL;\n            };\n\n            Varyings vert(Attributes input) \n            {\n                Varyings output;\n                output.positionCS = TransformObjectToHClip(input.positionOS.xyz);\n                output.positionWS = TransformObjectToWorld(input.positionOS.xyz);\n                output.normalWS = TransformObjectToWorldNormal(input.normalOS);\n                return output;\n            }\n\n            half4 frag(Varyings input) : SV_TARGET\n            {\n                float3 normalWS = normalize(input.normalWS);\n\n                Light mainLight = GetMainLight();\n\n                half3 ambient = _BaseColor.rgb * _AmbientStrength;\n\n                //Lambert diffuse \n                float NdotL =max(0, dot(normalWS, mainLight.direction)) ;\n                half3 diffuse = _BaseColor.rgb * mainLight.color * NdotL;\n                 \n                //Blinn-Phong specular\n                //GetWorldSpaceViewDir(input.positionWS) \u8fd4\u56de\u4ece\u9876\u70b9\u5230\u6444\u50cf\u673a\u7684\u5411\u91cf\n                float3 viewDir = normalize(GetWorldSpaceViewDir(input.positionWS));\n                // \u534a\u89d2\u5411\u91cf\uff0c\u521a\u597d\u662f\u4f4d\u4e8e\u5149\u7167\u65b9\u5411\u548c\u89c6\u7ebf\u65b9\u5411\u7684\u4e2d\u95f4,\u6570\u5b66\u4e0a\u662f\uff0c\u4e24\u4e2a\u5411\u91cf\u76f8\u52a0\uff0c\u7b49\u4e8e\u7531\u4e24\u4e2a\u5411\u91cf\u7ec4\u6210\u7684\u83f1\u5f62\u7684\u5bf9\u89d2\u7ebf\u3002\n                float3 halfVector = normalize(mainLight.direction + viewDir);\n                float NdotH = max(0, dot(normalWS, halfVector));\n                half3 specular = _SpecularColor.rgb * mainLight.color * pow(NdotH, _Glossiness);\n\n                //\u7ec4\u5408\u73af\u5883\u5149\uff0c\u6f2b\u53cd\u5c04\u548c\u9ad8\u5149\n                half3 color = ambient + diffuse + specular;\n                return half4(color, 1.0);\n            }\n            ENDHLSL\n        }\n    }\n}\n'})}),"\n",(0,i.jsx)(e.p,{children:"\u5e26\u7eb9\u7406\u7684\u9ad8\u5149"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-csharp",children:'Shader "Custom/URPLitBlinnPhong"\n{\n    Properties\n    {\n        _MainTex ("Texture", 2D) = "white" {}\n        _BaseColor ("Base Color", Color) = (1,1,1,1)\n\t\t_AmbientStrength ("Ambient Strength", Range(0, 1)) = 0.1\n\t\t_SpecularColor ("Specular Color", Color) = (1,1,1,1)\n        _Glossiness ("Glossiness", Range(0, 100)) = 30\n    }\n\n    SubShader\n    {\n        Tags {\n            "RenderType"="Opaque"\n            "RenderPipeline"="UniversalPipeline"\n        }\n\n        pass\n        {\n            HLSLPROGRAM\n            #pragma vertex vert \n            #pragma fragment frag \n\n            #include "Packages/com.unity.render-pipelines.universal/ShaderLibrary/Core.hlsl"\n            #include "Packages/com.unity.render-pipelines.universal/ShaderLibrary/Lighting.hlsl"\n\n            TEXTURE2D(_MainTex);\n            SAMPLER(sampler_MainTex);\n\n\n            CBUFFER_START(UnityPerMaterial)\n                float4 _BaseColor;\n                float _AmbientStrength;\n                float4 _SpecularColor;\n                float _Glossiness;\n                float4 _MainTex_ST;\n            CBUFFER_END\n\n            struct Attributes\n            {\n                float4 positionOS : POSITION;\n                float3 normalOS : NORMAL; \n                float2 uv : TEXCOORD0;\n            };\n\n            struct Varyings\n            {\n                float4 positionCS : SV_POSITION;\n                float3 positionWS : TEXCOORD0;\n                float3 normalWS : NORMAL;\n                float2 uv : TEXCOORD1;\n            };\n\n            Varyings vert(Attributes input) \n            {\n                Varyings output;\n                output.positionCS = TransformObjectToHClip(input.positionOS.xyz);\n                output.positionWS = TransformObjectToWorld(input.positionOS.xyz);\n                output.normalWS = TransformObjectToWorldNormal(input.normalOS);\n                output.uv = TRANSFORM_TEX(input.uv, _MainTex);\n                return output;\n            }\n\n            half4 frag(Varyings input) : SV_TARGET\n            {\n                float3 normalWS = normalize(input.normalWS);\n\n                half4 texColor = SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, input.uv);\n                half3 albedo = texColor.rgb * _BaseColor.rgb;\n\n                Light mainLight = GetMainLight();\n\n                half3 ambient = albedo * _AmbientStrength;\n\n                //Lambert diffuse \n                float NdotL =max(0, dot(normalWS, mainLight.direction)) ;\n                half3 diffuse = albedo * mainLight.color * NdotL;\n                 \n                //Blinn-Phong specular\n                //GetWorldSpaceViewDir(input.positionWS) \u8fd4\u56de\u4ece\u9876\u70b9\u5230\u6444\u50cf\u673a\u7684\u5411\u91cf\n                float3 viewDir = normalize(GetWorldSpaceViewDir(input.positionWS));\n                // \u534a\u89d2\u5411\u91cf\uff0c\u521a\u597d\u662f\u4f4d\u4e8e\u5149\u7167\u65b9\u5411\u548c\u89c6\u7ebf\u65b9\u5411\u7684\u4e2d\u95f4,\u6570\u5b66\u4e0a\u662f\uff0c\u4e24\u4e2a\u5411\u91cf\u76f8\u52a0\uff0c\u7b49\u4e8e\u7531\u4e24\u4e2a\u5411\u91cf\u7ec4\u6210\u7684\u83f1\u5f62\u7684\u5bf9\u89d2\u7ebf\u3002\n                float3 halfVector = normalize(mainLight.direction + viewDir);\n                float NdotH = max(0, dot(normalWS, halfVector));\n                half3 specular = _SpecularColor.rgb * mainLight.color * pow(NdotH, _Glossiness);\n\n                //\u7ec4\u5408\u73af\u5883\u5149\uff0c\u6f2b\u53cd\u5c04\u548c\u9ad8\u5149\n                half3 color = ambient + diffuse + specular;\n                return half4(color, 1.0);\n            }\n            ENDHLSL\n        }\n    }\n}\n'})})]})}function c(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(u,{...n})}):u(n)}},5309:(n,e,t)=>{t.d(e,{A:()=>o});const o=t.p+"assets/images/blinnPong-4af6aeb5f4dd959c9cb1fdfaedf4e1c6.gif"},8778:(n,e,t)=>{t.d(e,{A:()=>o});const o=t.p+"assets/images/textureBlinnPong-7cc79f5a2e86dba2a100589e8551dbfc.gif"},8453:(n,e,t)=>{t.d(e,{R:()=>a,x:()=>l});var o=t(6540);const i={},r=o.createContext(i);function a(n){const e=o.useContext(r);return o.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:a(n.components),o.createElement(r.Provider,{value:e},n.children)}}}]);