"use strict";(self.webpackChunk_0313_blog=self.webpackChunk_0313_blog||[]).push([[5775],{8858:(n,e,l)=>{l.r(e),l.d(e,{assets:()=>d,contentTitle:()=>a,default:()=>o,frontMatter:()=>c,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"Unity/Shader/UnitShader\u5173\u952e\u5b57","title":"Unity Shader \u5173\u952e\u5b57","description":"Properties","source":"@site/docs/Unity/Shader/UnitShader\u5173\u952e\u5b57.md","sourceDirName":"Unity/Shader","slug":"/Unity/Shader/UnitShader\u5173\u952e\u5b57","permalink":"/docs/Unity/Shader/UnitShader\u5173\u952e\u5b57","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Unity/Shader/UnitShader\u5173\u952e\u5b57.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Unity Shader \u5173\u952e\u5b57","date":"2025-03-19T17:21:44.000Z","categories":["Unity","Shader"],"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Unity Shader \u8bed\u6cd5","permalink":"/docs/Unity/Shader/UnityShader\u8bed\u6cd5"},"next":{"title":"Unity Shader \u7eb9\u7406\u6df7\u5408","permalink":"/docs/Unity/Shader/Shader\u7eb9\u7406\u6df7\u5408"}}');var s=l(4848),i=l(8453);const c={title:"Unity Shader \u5173\u952e\u5b57",date:new Date("2025-03-19T17:21:44.000Z"),categories:["Unity","Shader"],sidebar_position:2},a=void 0,d={},h=[{value:"Properties",id:"properties",level:2},{value:"SubShader",id:"subshader",level:2},{value:"Pass",id:"pass",level:2},{value:"Tags",id:"tags",level:2},{value:"ZWrite",id:"zwrite",level:2},{value:"Blend",id:"blend",level:2},{value:"CGPROGRAM ENDCG",id:"cgprogram-endcg",level:2},{value:"_Time",id:"_time",level:2},{value:"discard",id:"discard",level:2},{value:"clip()",id:"clip",level:2},{value:"frac()",id:"frac",level:2},{value:"UnpackNormal()",id:"unpacknormal",level:2},{value:"UniversalFragmentPBR",id:"universalfragmentpbr",level:2},{value:"Cull",id:"cull",level:2},{value:"\u6570\u636e\u7c7b\u578b (UnityCG.cginc , Bulid-in \u7ba1\u7ebf)",id:"\u6570\u636e\u7c7b\u578b-unitycgcginc--bulid-in-\u7ba1\u7ebf",level:2},{value:"\u6570\u636e\u7c7b\u578b (HLSL)",id:"\u6570\u636e\u7c7b\u578b-hlsl",level:2},{value:"shader_feature",id:"shader_feature",level:2},{value:"CBUFFER_START CBUFFER_END",id:"cbuffer_start-cbuffer_end",level:2},{value:"\u53d8\u6362\u77e9\u9635",id:"\u53d8\u6362\u77e9\u9635",level:2}];function t(n){const e={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h2,{id:"properties",children:"Properties"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"Properties"}),"\u5757\u5b9a\u4e49\u5728Inspector\u4e2d\u53ef\u4ee5\u8c03\u6574\u7684\u5c5e\u6027"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:'Properties\n{\n    _Color ("Color", Color) = (1,1,1,1)\n\t// ...........\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"subshader",children:"SubShader"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"SubShader"}),"\u5757\u5b9a\u4e49\u4e86Shader\u7684\u6e32\u67d3\u6d41\u7a0b"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:"SubShader\n{\n    Pass\n    {\n       //............\n    }\n}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"pass",children:"Pass"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"Pass"}),"\u5757\u5b9a\u4e49\u4e86Shader\u7684\u6e32\u67d3\u6d41\u7a0b"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:'Pass\n{\n    CGPROGRAM\n    #pragma vertex vert\n    #pragma fragment frag\n    #include "UnityCG.cginc"\n    ENDCG\n\t// .......\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"tags",children:"Tags"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"Tags"}),"\u5757\u5b9a\u4e49\u4e86Shader\u7684\u6807\u7b7e\n",(0,s.jsx)(e.code,{children:"RenderType"})," \u662fUnity\u4e2d\u5e38\u7528\u7684\u6807\u7b7e\u4e4b\u4e00\uff0c\u7528\u4e8e\u6307\u5b9a\u6e32\u67d3\u7c7b\u578b\u3002\n",(0,s.jsx)(e.code,{children:"LightMode"})," \u662fURP\u4e2d\u5e38\u7528\u7684\u6807\u7b7e\u4e4b\u4e00\uff0c\u7528\u4e8e\u6307\u5b9a\u5149\u7167\u6a21\u5f0f\u3002\nUnity\u4f7f\u7528RenderType\u6765\u5bf9\u4e0d\u540c\u7c7b\u578b\u7684\u7269\u4f53\u8fdb\u884c\u5206\u7c7b\u548c\u6e32\u67d3\n\u5176\u4ed6\u5e38\u89c1\u7684RenderType\u503c\u5305\u62ec:"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Opaque: \u4e0d\u900f\u660e\u7269\u4f53  (\u5899\u4f53\uff0c\u5730\u9762\uff0c \u666e\u901a\u7269\u4f53)"}),"\n",(0,s.jsx)(e.li,{children:"Transparent: \u900f\u660e\u7269\u4f53 (\u73bb\u7483\uff0c\u6c34\uff0c \u6811\u53f6)"}),"\n",(0,s.jsx)(e.li,{children:"TransparentCutout: \u900f\u660e\u5ea6\u88c1\u526a \u5b8c\u5168\u4e0d\u900f\u660e\u548c\u5b8c\u5168\u900f\u660e (\u8349\uff0c \u690d\u7269)"}),"\n",(0,s.jsx)(e.li,{children:"Background: \u80cc\u666f (\u5929\u7a7a\u76d2)"}),"\n",(0,s.jsx)(e.li,{children:"Overlay: \u53e0\u52a0\u5c42 (UI)"}),"\n",(0,s.jsx)(e.li,{children:"TreeOpaque: \u6811\u4e0d\u900f\u660e"}),"\n",(0,s.jsx)(e.li,{children:"TreeTransparentCutout: \u6811\u900f\u660e\u5ea6\u88c1\u526a"}),"\n",(0,s.jsx)(e.li,{children:"TreeBillboard: \u6811 Billboard"}),"\n",(0,s.jsx)(e.li,{children:"Grass: \u8349"}),"\n",(0,s.jsx)(e.li,{children:"GrassBillboard: \u8349 Billboard"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["\u5e38\u89c1\u7684\u5149\u7167\u6a21\u578b\n",(0,s.jsx)(e.a,{href:"https://docs.unity3d.com/Manual/SL-PassTags.html",children:"LightMode"})]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:'Tags\n{\n    "RenderType"="Opaque"\n}\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"Queue"})," \u662fUnity\u4e2d\u5e38\u7528\u7684\u6807\u7b7e\u4e4b\u4e00\uff0c\u7528\u4e8e\u6307\u5b9a\u6e32\u67d3\u987a\u5e8f\u3002\nUnity\u5e38\u7528\u961f\u5217\u503c\uff1a"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Background = 1000 (\u80cc\u666f)"}),"\n",(0,s.jsx)(e.li,{children:"Geometry = 2000 (\u9ed8\u8ba4\uff0c\u4e0d\u900f\u660e\u7269\u4f53)"}),"\n",(0,s.jsx)(e.li,{children:"AlphaTest = 2450 (\u5e26Alpha\u6d4b\u8bd5\u7684\u7269\u4f53)"}),"\n",(0,s.jsx)(e.li,{children:"Transparent = 3000 (\u900f\u660e\u7269\u4f53)  \u5728\u4e0d\u900f\u660e\u7269\u4f53\u540e\u6e32\u67d3"}),"\n",(0,s.jsx)(e.li,{children:"Overlay = 4000 (\u53e0\u52a0\u5c42\uff0c\u5982UI)"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:'Tags\n{\n    "Queue"="Transparent"\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"zwrite",children:"ZWrite"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"ZWrite"})," \u900f\u660e\u7269\u4f53\u901a\u5e38\u8bbe\u7f6eZWrite Off\u4ee5\u907f\u514d\u906e\u6321\u540e\u65b9\u900f\u660e\u7269\u4f53"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"On = \u5199\u5165\u6df1\u5ea6\u7f13\u51b2\u533a"}),"\n",(0,s.jsx)(e.li,{children:"Off = \u4e0d\u5199\u5165\u6df1\u5ea6\u7f13\u51b2\u533a"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:"Pass\n{\n    ZWrite Off\n}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"blend",children:"Blend"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"Blend"})," \u5b9a\u4e49\u50cf\u7d20\u5982\u4f55\u4e0e\u4e00\u6e32\u67d3\u50cf\u7d20\u6df7\u5408\nBlend SrcAlpha OneMinusSrcAlpha\u662f\u6700\u5e38\u7528\u7684\u900f\u660e\u6df7\u5408\n\u8bed\u6cd5 : Blend SrcFactor DstFactor\nSrcFactor \u6e90\u989c\u8272\u6df7\u5408\u56e0\u5b50\nDstFactor \u76ee\u6807\u989c\u8272\u6df7\u5408\u56e0\u5b50"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:"Pass\n{\n    Blend SrcAlpha OneMinusSrcAlpha\n}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"cgprogram-endcg",children:"CGPROGRAM ENDCG"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"CGPROGRAM"}),"\u5757\u5b9a\u4e49\u4e86Shader\u7684\u9876\u70b9\u548c\u7247\u6bb5\u7740\u8272\u5668\n",(0,s.jsx)(e.code,{children:"ENDCG"}),"\u5757\u7ed3\u675fCG\u7a0b\u5e8f"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:"CGPROGRAM\nENDCG\n"})}),"\n",(0,s.jsx)(e.h2,{id:"_time",children:"_Time"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"_Time"})," Unity\u5185\u7f6e\u65f6\u95f4\u53d8\u91cf\uff0c\u7528\u4e8e\u83b7\u53d6\u5f53\u524d\u65f6\u95f4"]}),"\n",(0,s.jsx)(e.h2,{id:"discard",children:"discard"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"discard"}),"\u5173\u952e\u5b57\u7528\u4e8e\u4e22\u5f03\u5f53\u524d\u50cf\u7d20, \u505c\u6b62\u7247\u5143\u5904\u7406\uff0c\u4e0d\u4f1a\u5bf9\u5e27\u7f13\u51b2\u533a\u8fdb\u884c\u4efb\u4f55\u5199\u5165\u64cd\u4f5c\u3002\u7247\u5143\u4e22\u5f03"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:"discard;\n"})}),"\n",(0,s.jsx)(e.h2,{id:"clip",children:"clip()"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"clip()"}),"\u51fd\u6570\u7528\u4e8e\u88c1\u526a\u7247\u5143\uff0c\u5982\u679c\u7247\u5143\u5728\u88c1\u526a\u8303\u56f4\u5185\uff0c\u5219\u4fdd\u7559\uff0c\u5426\u5219\u4e22\u5f03\u3002"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:"clip(dot(normal, viewDir) - 0.5);\n"})}),"\n",(0,s.jsx)(e.h2,{id:"frac",children:"frac()"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"frac()"}),"\u51fd\u6570\u7528\u4e8e\u8fd4\u56de\u6d6e\u70b9\u6570\u7684\u5c0f\u6570\u90e8\u5206\u3002"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:"frac(x);\n"})}),"\n",(0,s.jsx)(e.h2,{id:"unpacknormal",children:"UnpackNormal()"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"UnpackNormal()"}),"\u51fd\u6570\u7528\u4e8e\u89e3\u538b\u7f29\u6cd5\u7ebf\u8d34\u56fe\u3002\u51fd\u6570\u5c06\u989c\u8272\u503c\u8f6c\u6362\u4e3a(-1,1)\u8303\u56f4\u7684\u6cd5\u7ebf\u5411\u91cf"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:"half3 normalTS = UnpackNormal(normal);\n"})}),"\n",(0,s.jsx)(e.h2,{id:"universalfragmentpbr",children:"UniversalFragmentPBR"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"UniversalFragmentPBR"})," \u662fURP\u4e2d\u7528\u4e8e\u5b9e\u73b0PBR\u5149\u7167\u7684\u51fd\u6570\u3002"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:"half4 UniversalFragmentPBR(InputData inputData, SurfaceData surfaceData)\n"})}),"\n",(0,s.jsx)(e.h2,{id:"cull",children:"Cull"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"Cull"})," \u7528\u4e8e\u6307\u5b9a\u5254\u9664\u9762\uff0c\u9ed8\u8ba4\u662fBack\uff0c\u5373\u80cc\u9762\u5254\u9664\u3002"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Cull Back - \u80cc\u9762\u5254\u9664"}),"\n",(0,s.jsx)(e.li,{children:"Cull Front - \u6b63\u9762\u5254\u9664 \u7279\u6b8a\u6548\u679c\uff1a\u5982\u5916\u63cf\u8fb9"}),"\n",(0,s.jsx)(e.li,{children:"Cull Off - \u5173\u95ed\u5254\u9664  \u6e32\u67d3\u6240\u6709\u9762  :\u5982 \u6811\u53f6\uff0c\u5e03\u6599\uff0c\u8584\u7eb8"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:"Cull Back\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\u6570\u636e\u7c7b\u578b-unitycgcginc--bulid-in-\u7ba1\u7ebf",children:"\u6570\u636e\u7c7b\u578b (UnityCG.cginc , Bulid-in \u7ba1\u7ebf)"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u57fa\u672c\u503c\u7c7b\u578b\n| \u7c7b\u578b | \u7cbe\u5ea6 | \u8303\u56f4 | \u5185\u5b58\u5360\u7528 | \u9002\u7528\u573a\u666f |\n|----------|---------|-----------------|---------|------------------------|\n| float | 32\u4f4d | \xb11.5\xd710^\u221245 \u5230 \xb13.4\xd710^38 | 4\u5b57\u8282 | \u9700\u8981\u9ad8\u7cbe\u5ea6\u7684\u4e16\u754c\u5750\u6807\u3001UV\u8ba1\u7b97\u7b49 |\n| half | 16\u4f4d | \xb16.0\xd710^\u22128 \u5230 \xb16.5\xd710^4 | 2\u5b57\u8282 | \u4e2d\u7b49\u7cbe\u5ea6\u9700\u6c42\uff0c\u5982\u7eb9\u7406\u5750\u6807 |\n| fixed | 11\u4f4d | -2.0 \u5230 +2.0 | ~1\u5b57\u8282 | \u989c\u8272\u8868\u793a\uff0c\u8303\u56f4\u6709\u9650\u4f46\u591f\u7528 |"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u5411\u91cf\u7c7b\u578b\n\u6240\u6709\u7c7b\u578b\u90fd\u6709\u5bf9\u5e94\u7684\u5411\u91cf\u7c7b\u578b"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:"// 4\u7ef4\u5411\u91cf  (x, y, z, w)\nfloat4 position;    // 32\u4f4d\u6bcf\u5206\u91cf\uff0c\u9002\u5408\u4f4d\u7f6e\nhalf4 direction;    // 16\u4f4d\u6bcf\u5206\u91cf\uff0c\u9002\u5408\u65b9\u5411\nfixed4 color;       // 11\u4f4d\u6bcf\u5206\u91cf\uff0c\u9002\u5408\u989c\u8272\n\n// 3\u7ef4\u5411\u91cf (x,y,z)\nfloat3 worldPos;    // \u9002\u5408\u4e16\u754c\u5750\u6807\nhalf3 normal;       // \u9002\u5408\u6cd5\u7ebf\u65b9\u5411\nfixed3 albedo;      // \u9002\u5408RGB\u989c\u8272\n\n// 2\u7ef4\u5411\u91cf (x,y)\nfloat2 uv;          // \u9002\u5408UV\u5750\u6807\nhalf2 texOffset;    // \u9002\u5408\u7eb9\u7406\u504f\u79fb\nfixed2 xy;          // \u9002\u5408\u7b80\u53552D\u503c\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u6709\u591a\u79cd\u8bbf\u95ee\u65b9\u5f0f"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:"fixed4 color = fixed4(1.0, 0.0, 0.0, 1.0);\nfloat r = color.r;\nfloat g = color.g;\nfloat b = color.b;\nfloat a = color.a;\n\nfloat x = color.x;\nfloat y = color.y;\nfloat z = color.z;\nfloat w = color.w;\n\nfixed2 rg = color.rg;\nfixed3 rgb = color.rgb;\nfixed4 rgba = color.rgba;\n"})}),"\n",(0,s.jsxs)(e.ol,{start:"3",children:["\n",(0,s.jsx)(e.li,{children:"\u77e9\u9635\u7c7b\u578b"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:"// 4x4\u77e9\u9635\nfloat4x4 matrix;   // 4x4\u77e9\u9635\uff0c\u9002\u5408\u53d8\u6362\u77e9\u9635\nhalf3x3 rotationMatrix;  // 3x3\u77e9\u9635\uff0c\u9002\u5408\u65cb\u8f6c\u77e9\u9635\n"})}),"\n",(0,s.jsxs)(e.ol,{start:"4",children:["\n",(0,s.jsx)(e.li,{children:"\u91c7\u6837\u7c7b\u578b"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:"// 2D\u7eb9\u7406\nsampler2D myTexture;\n// 3D\u7eb9\u7406\nsampler3D my3DTexture;\n// \u7acb\u65b9\u4f53\u8d34\u56fe\u91c7\u6837\nsamplerCUBE myCubeMap;\n"})}),"\n",(0,s.jsxs)(e.ol,{start:"5",children:["\n",(0,s.jsx)(e.li,{children:"\u6574\u578b"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:"int myInt;  //32\u4f4d\u6574\u6570\nuint myUint; //32\u4f4d\u65e0\u7b26\u53f7\u6574\u6570\n"})}),"\n",(0,s.jsxs)(e.ol,{start:"6",children:["\n",(0,s.jsx)(e.li,{children:"\u5e03\u5c14\u7c7b\u578b"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:"bool myBool;  //1\u4f4d\u5e03\u5c14\u503c\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\u6570\u636e\u7c7b\u578b-hlsl",children:"\u6570\u636e\u7c7b\u578b (HLSL)"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u57fa\u672c\u503c\u7c7b\u578b\n| \u7c7b\u578b | \u7cbe\u5ea6 | \u8303\u56f4 | \u5185\u5b58\u5360\u7528 | \u9002\u7528\u573a\u666f |\n|----------|---------|-----------------|---------|------------------------|\n| float | 32\u4f4d | \xb11.5\xd710^\u221245 \u5230 \xb13.4\xd710^38 | 4\u5b57\u8282 | \u9700\u8981\u9ad8\u7cbe\u5ea6\u7684\u4e16\u754c\u5750\u6807\u3001UV\u8ba1\u7b97\u7b49 |\n| float2 | 32\u4f4d | 2\u4e2a32\u4f4d\u6d6e\u70b9\u6570 | 8\u5b57\u8282 | 2D\u5411\u91cf\uff0c\u5982\u4f4d\u7f6e\u3001\u65b9\u5411 |\n| float3 | 32\u4f4d | 3\u4e2a32\u4f4d\u6d6e\u70b9\u6570 | 12\u5b57\u8282 | 3D\u5411\u91cf\uff0c\u5982\u4f4d\u7f6e\u3001\u65b9\u5411 |\n| float4 | 32\u4f4d | 4\u4e2a32\u4f4d\u6d6e\u70b9\u6570 | 16\u5b57\u8282 | 4D\u5411\u91cf\uff0c\u5982\u4f4d\u7f6e\u3001\u65b9\u5411 |\n| float4x4 | 32\u4f4d | 16\u4e2a32\u4f4d\u6d6e\u70b9\u6570 | 64\u5b57\u8282 | 4x4\u77e9\u9635\uff0c\u5982\u53d8\u6362\u77e9\u9635 |"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u91c7\u6837\u7c7b\u578b"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:"TEXTURE2D(_MainTex);\nSAMPLER(sampler_MainTex);\n"})}),"\n",(0,s.jsx)(e.h2,{id:"shader_feature",children:"shader_feature"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"shader_feature"})," \u7528\u4e8e\u5b9a\u4e49\u53ef\u9009\u7684Shader\u53d8\u4f53, \u5b8f\u5b9a\u4e49"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"\u5728\u6750\u8d28\u68c0\u67e5\u5668\u4e2d\u521b\u5efa\u53ef\u9009\u62e9\u7684\u529f\u80fd"}),"\n",(0,s.jsx)(e.li,{children:"\u57fa\u4e8e\u7528\u6237\u9009\u62e9\u6761\u4ef6\u6027\u7f16\u8bd1\u4ee3\u7801"}),"\n",(0,s.jsx)(e.li,{children:"\u4f18\u5316\u7740\u8272\u5668\uff0c\u4ec5\u5305\u542b\u9700\u8981\u7684\u4ee3\u7801\u53d8\u4f53"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:"Pass\n{\n    # pragma shader_feature _FEATURE_NAME // \u5728\u6750\u8d28\u68c0\u67e5\u5668\u4e2d\u521b\u5efa\u53ef\u9009\u62e9\u7684\u529f\u80fd\n}\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"shader_feature"}),"\u4e0e",(0,s.jsx)(e.code,{children:"multi_compile"}),"\u5f88\u76f8\u4f3c\uff0c\u4f46\u6709\u91cd\u8981\u533a\u522b\uff1a\n",(0,s.jsx)(e.code,{children:"shader_feature"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u4ec5\u5305\u542b\u5b9e\u9645\u4f7f\u7528\u7684\u53d8\u4f53"}),"\n",(0,s.jsx)(e.li,{children:"\u4e0d\u4f7f\u7528\u7684\u53d8\u4f53\u4e0d\u7f16\u8bd1\uff0c\u8282\u7701\u5185\u5b58"}),"\n",(0,s.jsxs)(e.li,{children:["\u9002\u7528\u4e8e\u6750\u8d28\u7f16\u8f91\u5668\u4e2d\u7684\u9009\u9879\n",(0,s.jsx)(e.code,{children:"multi_compile"}),":"]}),"\n",(0,s.jsx)(e.li,{children:"\u7f16\u8bd1\u6240\u6709\u53ef\u80fd\u7684\u53d8\u4f53"}),"\n",(0,s.jsx)(e.li,{children:"\u5141\u8bb8\u5728\u8fd0\u884c\u65f6\u5207\u6362"}),"\n",(0,s.jsx)(e.li,{children:"\u9002\u7528\u4e8e\u5168\u5c40\u8bbe\u7f6e\u6216\u9700\u8981\u52a8\u6001\u5207\u6362\u7684\u529f\u80fd"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"cbuffer_start-cbuffer_end",children:"CBUFFER_START CBUFFER_END"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"CBUFFER_START"})," \u548c ",(0,s.jsx)(e.code,{children:"CBUFFER_END"})," \u7528\u4e8e\u5b9a\u4e49\u5e38\u91cf\u7f13\u51b2\u533a(Constant Buffer)"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u5e38\u91cf\u7f13\u51b2\u533a\u7528\u4e8e\u5b58\u50a8Shader\u4e2d\u5e38\u7528\u7684\u5e38\u91cf"}),"\n",(0,s.jsx)(e.li,{children:"\u5c06\u76f8\u540c\u6750\u8d28\u5c5e\u6027\u6253\u5305\u5728\u4e00\u8d77"}),"\n",(0,s.jsx)(e.li,{children:"\u63d0\u9ad8\u6027\u80fd\uff0c\u51cf\u5c11\u5bc4\u5b58\u5668\u538b\u529b,\u51cf\u5c11cpu\u5411GPU\u4f20\u9012\u6570\u636e\u6b21\u6570"}),"\n",(0,s.jsx)(e.li,{children:"\u907f\u514d\u5728\u51fd\u6570\u4e2d\u9891\u7e41\u58f0\u660e\u548c\u4f7f\u7528"}),"\n",(0,s.jsx)(e.li,{children:"\u7edf\u4e00\u5185\u5b58\u5e03\u5c40\uff0c\u5141\u8bb8GPU\u591a\u4e2a\u6750\u8d28\u5feb\u901f\u5207\u6362"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:"CBUFFER_START(UnityPerMaterial)\nfloat4 _Color;\nfloat _Intensity;\nCBUFFER_END\n"})}),"\n",(0,s.jsx)(e.p,{children:"SRP Batcher\u65b9\u5f0f\uff1a"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u6750\u8d28\u5c5e\u6027\u7ec4\u7ec7\u5728\u4e00\u4e2a\u8fde\u7eed\u7684\u5185\u5b58\u5757\u4e2d"}),"\n",(0,s.jsx)(e.li,{children:"\u76f8\u540c\u7740\u8272\u5668\u7684\u6750\u8d28\u5171\u4eab\u7ed8\u5236\u547d\u4ee4"}),"\n",(0,s.jsx)(e.li,{children:"\u53ea\u66f4\u65b0\u5e38\u91cf\u7f13\u51b2\u533a\u4e2d\u7684\u6570\u636e\uff0c\u4e0d\u91cd\u65b0\u751f\u6210\u7ed8\u5236\u547d\u4ee4"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"\u53d8\u6362\u77e9\u9635",children:"\u53d8\u6362\u77e9\u9635"}),"\n",(0,s.jsx)(e.p,{children:"URP\u4e2d\u5e38\u7528\u7684\u53d8\u6362\u77e9\u9635"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"unity_WorldToObject\uff1a\u4e16\u754c\u7a7a\u95f4\u5230\u5c40\u90e8\u7a7a\u95f4\u7684\u53d8\u6362"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"unity_MatrixVP\uff1a\u89c6\u56fe\u6295\u5f71\u77e9\u9635"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"unity_MatrixV\uff1a\u89c6\u56fe\u77e9\u9635"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"unity_MatrixP\uff1a\u6295\u5f71\u77e9\u9635"}),"\n"]}),"\n"]})]})}function o(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(t,{...n})}):t(n)}},8453:(n,e,l)=>{l.d(e,{R:()=>c,x:()=>a});var r=l(6540);const s={},i=r.createContext(s);function c(n){const e=r.useContext(i);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:c(n.components),r.createElement(i.Provider,{value:e},n.children)}}}]);