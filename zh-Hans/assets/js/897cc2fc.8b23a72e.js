"use strict";(self.webpackChunk_0313_blog=self.webpackChunk_0313_blog||[]).push([[3378],{19231:(t,n,e)=>{e.r(n),e.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>T,frontMatter:()=>i,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"Unity/Shader/\u793a\u4f8b\u4e4b\u53cc\u7eb9\u7406\u878d\u5408UV\u52a8\u753b","title":"\u793a\u4f8b\u4e4b\u53cc\u7eb9\u7406\u878d\u5408UV\u52a8\u753b","description":"\u8fd9\u662f\u4e00\u4e2a\u975e\u900f\u660e\uff0c\u975e\u5149\u7167\u5e26\u53cc\u7eb9\u7406\u878d\u5408\u7684\u4fee\u6539\u7b2c\u4e8c\u4e2a\u7eb9\u7406\u7684UV\u5750\u6807\u7684\u52a8\u753bShader","source":"@site/docs/Unity/Shader/\u793a\u4f8b\u4e4b\u53cc\u7eb9\u7406\u878d\u5408UV\u52a8\u753b.md","sourceDirName":"Unity/Shader","slug":"/Unity/Shader/\u793a\u4f8b\u4e4b\u53cc\u7eb9\u7406\u878d\u5408UV\u52a8\u753b","permalink":"/zh-Hans/docs/Unity/Shader/\u793a\u4f8b\u4e4b\u53cc\u7eb9\u7406\u878d\u5408UV\u52a8\u753b","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Unity/Shader/\u793a\u4f8b\u4e4b\u53cc\u7eb9\u7406\u878d\u5408UV\u52a8\u753b.md","tags":[],"version":"current","sidebarPosition":1003,"frontMatter":{"title":"\u793a\u4f8b\u4e4b\u53cc\u7eb9\u7406\u878d\u5408UV\u52a8\u753b","date":"2025-03-20T10:41:44.000Z","categories":["Unity","Shader"],"sidebar_position":1003},"sidebar":"tutorialSidebar","previous":{"title":"\u793a\u4f8b\u4e4b\u53cc\u7eb9\u7406\u878d\u5408","permalink":"/zh-Hans/docs/Unity/Shader/\u793a\u4f8b\u4e4b\u53cc\u7eb9\u7406\u878d\u5408"},"next":{"title":"\u793a\u4f8b\u4e4b\u906e\u7f69\u7eb9\u7406","permalink":"/zh-Hans/docs/Unity/Shader/\u793a\u4f8b\u4e4b\u906e\u7f69\u7eb9\u7406"}}');var o=e(74848),r=e(28453);const i={title:"\u793a\u4f8b\u4e4b\u53cc\u7eb9\u7406\u878d\u5408UV\u52a8\u753b",date:new Date("2025-03-20T10:41:44.000Z"),categories:["Unity","Shader"],sidebar_position:1003},s=void 0,l={},d=[{value:"\u8fd9\u662f\u4e00\u4e2a\u975e\u900f\u660e\uff0c\u975e\u5149\u7167\u5e26\u53cc\u7eb9\u7406\u878d\u5408\u7684\u4fee\u6539\u7b2c\u4e8c\u4e2a\u7eb9\u7406\u7684UV\u5750\u6807\u7684\u52a8\u753bShader",id:"\u8fd9\u662f\u4e00\u4e2a\u975e\u900f\u660e\u975e\u5149\u7167\u5e26\u53cc\u7eb9\u7406\u878d\u5408\u7684\u4fee\u6539\u7b2c\u4e8c\u4e2a\u7eb9\u7406\u7684uv\u5750\u6807\u7684\u52a8\u753bshader",level:2},{value:"URP shader \u5b9e\u73b0",id:"urp-shader-\u5b9e\u73b0",level:2}];function c(t){const n={code:"code",h2:"h2",img:"img",p:"p",pre:"pre",...(0,r.R)(),...t.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h2,{id:"\u8fd9\u662f\u4e00\u4e2a\u975e\u900f\u660e\u975e\u5149\u7167\u5e26\u53cc\u7eb9\u7406\u878d\u5408\u7684\u4fee\u6539\u7b2c\u4e8c\u4e2a\u7eb9\u7406\u7684uv\u5750\u6807\u7684\u52a8\u753bshader",children:"\u8fd9\u662f\u4e00\u4e2a\u975e\u900f\u660e\uff0c\u975e\u5149\u7167\u5e26\u53cc\u7eb9\u7406\u878d\u5408\u7684\u4fee\u6539\u7b2c\u4e8c\u4e2a\u7eb9\u7406\u7684UV\u5750\u6807\u7684\u52a8\u753bShader"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"\u793a\u4f8b\u56fe",src:e(47894).A+"",width:"480",height:"240"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-csharp",children:'Shader "Custom/TwoTextureUvAni"\n{\n    Properties\n    {\n        _MainTex ("Texture 1", 2D) = "white" {}\n\t\t_SecondTex ("Texture 2", 2D) = "white" {}\n\t\t_Speed ("Animation Speed", Float) = 1 // \u66ff\u6362\u4e3a\u901f\u5ea6\u63a7\u5236\n\t\t_Range ("Range", Range(0, 1)) = 0\n\t}\n\n\tSubShader\n\t{\n\t\tTags { "RenderType"="Opaque" }\n\t\t\n\t\tPass\n\t\t{\n\t\t\tCGPROGRAM\n\t\t\t#pragma vertex vert\n\t\t\t#pragma fragment frag\n\t\t\t#include "UnityCG.cginc"\n\n\t\t\tsampler2D _MainTex;\n\t\t\tsampler2D _SecondTex;\n\t\t\tfloat4 _MainTex_ST;\n\t\t\tfloat4 _SecondTex_ST;\n\t\t\tfloat _Speed;\n\t\t\tfloat _Range;\n\n\t\t\tstruct appdata\n\t\t\t{\n\t\t\t\tfloat4 vertex : POSITION;\n\t\t\t\tfloat2 uv1 : TEXCOORD0;\n\t\t\t\tfloat2 uv2 : TEXCOORD1;\n\n\t\t\t};\n\n\t\t\tstruct v2f\n\t\t\t{\n\t\t\t\tfloat4 pos : SV_POSITION;\n\t\t\t\tfloat2 uv1 : TEXCOORD0;\n\t\t\t\tfloat2 uv2 : TEXCOORD1;\n\t\t\t};\n\n\t\t\tv2f vert (appdata v)\n\t\t\t{\n\t\t\t\tv2f o;\n\t\t\t\to.pos = UnityObjectToClipPos(v.vertex);\n\t\t\t\to.uv1 = TRANSFORM_TEX(v.uv1, _MainTex);\n\t\t\t\to.uv2 = TRANSFORM_TEX(v.uv2, _SecondTex) + float2(_Time.y * _Speed, 0);  //_Time.y \u662f\u5f53\u524d\u65f6\u95f4  unity\u5185\u7f6e\u65f6\u95f4\u53d8\u91cf\n\t\t\t\treturn o;\n\t\t\t}\n\n\t\t\tfixed4 frag (v2f i) : SV_Target\n\t\t\t{\n\t\t\t\tfixed4 col1 = tex2D(_MainTex, i.uv1);\n\t\t\t\tfixed4 col2 = tex2D(_SecondTex, i.uv2);\n\t\t\t\tfixed4 col = lerp(col1, col2, _Range);\n\t\t\t\treturn col;\n\t\t\t}\n\t\t\tENDCG\n\t\t}\n\t}\n}\n\n'})}),"\n",(0,o.jsx)(n.h2,{id:"urp-shader-\u5b9e\u73b0",children:"URP shader \u5b9e\u73b0"}),"\n",(0,o.jsxs)(n.p,{children:["URP \u5b9e\u73b0\u4e86\u66f4\u4e3a\u590d\u6742\u7684\u60c5\u51b5\uff0c \u53cc\u7eb9\u7406\uff0c\u52a0\u906e\u7f69\u7eb9\u7406\uff0c\u52a0\u9876\u70b9\u52a8\u753b\uff0c \u5404\u81ea\u63a7\u5236\u5f00\u5173\n",(0,o.jsx)(n.img,{alt:"\u793a\u4f8b\u56fe",src:e(52599).A+"",width:"640",height:"178"})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-csharp",children:'Shader "Custom/URPAdvancedBlending"\n{\n\tProperties\n\t{\n\t\t_MainTex ("Texture", 2D) = "white" {}\n\t\t_SecondTex ("Second Texture", 2D) = "white" {}\n\t\t_BaseColor ("Base Color", Color) = (1,1,1,1)\n\t\t_SecondColor ("Second Color", Color) = (1,1,1,1)\n\n\n\t\t[Space(10)]\n\t\t[Header(Blend)]\n\t\t_BlendFactor ("Blend Factor", Range(0, 1)) = 0.5\n\t\t[Toggle(_USE_MASK_ON)] _UseMask ("Use Mask Texture", Float) = 0\n\t\t_MaskTex ("Mask Texture", 2D) = "white" {}\n\n\t\t[Space(10)]\n\t\t[Header(Animation)]\n\t\t[Toggle(_USE_ANIMATION_ON)] _UseAnimation ("Use Animation", Float) = 0\n\t\t_MoveSpeed ("Move Speed", Vector) = (0.1,0,0,0)\n\t}\n\n\tSubShader\n\t{\n\t\tTags\n\t\t{\n\t\t\t"RenderType"="Opaque"\n\t\t\t"RenderPipeline"="UniversalPipeline"\n\t\t\t"Queue"="Geometry"\n\t\t}\n\n\t\tPass\n\t\t{\n\t\t\tName "ForwardLit"\n\t\t\tTags { "LightMode"="UniversalForward" }\n\n\t\t\tHLSLPROGRAM\n\t\t\t#pragma vertex vert\n\t\t\t#pragma fragment frag\n\n\t\t\t#pragma shader_feature_local _USE_MASK_ON\n\t\t\t#pragma shader_feature_local _USE_ANIMATION_ON\n\t\t\t#include "Packages/com.unity.render-pipelines.universal/ShaderLibrary/Core.hlsl"\n\t\t\t\n\t\t\tTEXTURE2D(_MainTex);\n\t\t\tSAMPLER(sampler_MainTex);\n\n\t\t\tTEXTURE2D(_SecondTex);\n\t\t\tSAMPLER(sampler_SecondTex);\n\n\t\t\tTEXTURE2D(_MaskTex);\n\t\t\tSAMPLER(sampler_MaskTex);\n\n\t\t\tCBUFFER_START(UnityPerMaterial)\n\t\t\tfloat4 _MainTex_ST;\n\t\t\tfloat4 _SecondTex_ST;\n\t\t\tfloat4 _MaskTex_ST;\n\t\t\tfloat4 _BaseColor;\n\t\t\tfloat4 _SecondColor;\n\t\t\tfloat4 _MoveSpeed;\n\t\t\tfloat _BlendFactor;\n\t\t\tfloat _UseMask;\n\t\t\tfloat _UseAnimation;\n\t\t\tCBUFFER_END\n\n\t\t\tstruct Attributes\n\t\t\t{\n\t\t\t\tfloat4 positionOS : POSITION;\n\t\t\t\tfloat2 uv : TEXCOORD0;\n\t\t\t};\n\n\t\t\tstruct Varyings\n\t\t\t{\n\t\t\t\tfloat4 positionHCS : SV_POSITION;\n\t\t\t\tfloat2 uvMain : TEXCOORD0;\n\t\t\t\tfloat2 uvSecond : TEXCOORD1;\n\t\t\t\tfloat2 uvMask : TEXCOORD2;\n\t\t\t};\n\n\t\t\tVaryings vert(Attributes IN)\n\t\t\t{\n\t\t\t\tVaryings OUT;\n\t\t\t\tOUT.positionHCS = TransformObjectToHClip(IN.positionOS.xyz);\n\t\t\t\tOUT.uvMain = TRANSFORM_TEX(IN.uv, _MainTex);\n\t\t\t\t#if _USE_ANIMATION_ON\n\t\t\t\t\tOUT.uvSecond = TRANSFORM_TEX(IN.uv, _SecondTex) + _MoveSpeed * _Time.y;\n\t\t\t\t#else \n\t\t\t\t\tOUT.uvSecond = TRANSFORM_TEX(IN.uv, _SecondTex);\n\t\t\t\t#endif\n\t\t\t\tOUT.uvMask = TRANSFORM_TEX(IN.uv, _MaskTex);\n\t\t\t\treturn OUT;\n\t\t\t}\n\n\t\t\thalf4 frag(Varyings IN) : SV_Target\n\t\t\t{\n\t\t\t\thalf4 mainColor = SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, IN.uvMain);\n\t\t\t\thalf4 secondColor = SAMPLE_TEXTURE2D(_SecondTex, sampler_SecondTex, IN.uvSecond);\n\t\t\t\thalf4 maskColor = SAMPLE_TEXTURE2D(_MaskTex, sampler_MaskTex, IN.uvMask);\n\n\t\t\t\tfloat blendFactor = _BlendFactor;\n\n\t\t\t\t#if _USE_MASK_ON\n\t\t\t\t\tblendFactor = maskColor.r * _BlendFactor;\n\t\t\t\t#endif\n\n\t\t\t\thalf4 finalColor = lerp(mainColor, secondColor, blendFactor);\n\t\t\t\treturn finalColor;\n\t\t\t}\n\t\t\tENDHLSL\n\t\t}\n\t}\n}\n'})})]})}function T(t={}){const{wrapper:n}={...(0,r.R)(),...t.components};return n?(0,o.jsx)(n,{...t,children:(0,o.jsx)(c,{...t})}):c(t)}},52599:(t,n,e)=>{e.d(n,{A:()=>a});const a=e.p+"assets/images/AdvanceUVAni-73e4f4a935035c15b7f797cdaa61be7b.gif"},47894:(t,n,e)=>{e.d(n,{A:()=>a});const a=e.p+"assets/images/textureUVAni-620db82b8683014bb0c97d8b8210ddbc.gif"},28453:(t,n,e)=>{e.d(n,{R:()=>i,x:()=>s});var a=e(96540);const o={},r=a.createContext(o);function i(t){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof t?t(n):{...n,...t}}),[n,t])}function s(t){let n;return n=t.disableParentContext?"function"==typeof t.components?t.components(o):t.components||o:i(t.components),a.createElement(r.Provider,{value:n},t.children)}}}]);